(this["webpackJsonpvisual-pathfind"]=this["webpackJsonpvisual-pathfind"]||[]).push([[0],{76:function(e,t,n){e.exports=n(93)},81:function(e,t,n){},82:function(e,t){},84:function(e,t){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(11),r=n.n(i),s=(n(81),n(10)),l=n(60),c=n(61),d=n(69),h=n(68),u={main:{width:"100vw",height:"100vh",backgroundColor:"#FCFAF2"},title:{flexGrow:1},top_navigation_bar:{position:"absolute",left:"0px",top:"0px",right:"0px",height:"64px",backgroundColor:"#828282"},left_tool_box:{position:"absolute",left:"0px",width:"200px",top:"64px",bottom:"0px"},main_canvas:{position:"absolute",left:"200px",right:"0px",top:"64px",bottom:"0px",backgroundColor:"green"},canvas_cell:{position:"absolute",top:"0px",backgroundColor:"red",width:"20px",height:"20px"},canvas_cell_created:{position:"absolute",top:"0px",backgroundColor:"blue",width:"20px",height:"20px",animationName:"$jumpOut",animationDuration:"0.3s",animationTimingFunction:"ease-out",animationDelay:"0",animationDirection:"alternate",animationIterationCount:"1",animationFillMode:"forwards",animationPlayState:"running"},canvas_cell_test:{position:"absolute",top:"0px",backgroundColor:"green",border:"solid 1px black",width:"20px",height:"20px"},hoverButton:{extend:"button",background:"yellow","&:active":{background:"red"}},"@keyframes jumpOut":{"0%":{transform:"scale(.3)",backgroundColor:"rgb(12, 53, 71)"},"50%":{transform:"scale(1.2)",backgroundColor:"rgb(12, 53, 71)"},"100%":{transform:"scale(1.0)",backgroundColor:"rgb(12, 53, 71)"}}},f=n(21),p=n.n(f),g=n(67);var v=function(e){var t=e.styleMap;return(0,e.children)(Object(g.a)(t))},m=n(130),w=n(133),C=n(52),b=n(137),y=n(135),N=n(145),E=n(138),R=n(134),k=n(66),D=n.n(k),M=n(136),S=n(144),x=n(143),P=n(142),G=n(140),T=n(141),A=n(139),O=n(146),F=n(45);function z(e,t,n,a,o){var i=I(e,t,n,a,o),r=i[t][n],s=i[a][o],l=[];r.distance=0;for(var c=function(e){var t,n=[],a=Object(F.a)(e);try{for(a.s();!(t=a.n()).done;){var o,i=t.value,r=Object(F.a)(i);try{for(r.s();!(o=r.n()).done;){var s=o.value;n.push(s)}}catch(l){r.e(l)}finally{r.f()}}}catch(l){a.e(l)}finally{a.f()}return n}(i);c.length;){j(c);var d=c.shift();if(!d.isWall){if(d.distance===1/0)return[l,null];if(d.isVisited=!0,l.push(d),d===s)return[l,W(s)];_(d,i)}}}function j(e){e.sort((function(e,t){return e.distance-t.distance}))}function _(e,t){var n,a=function(e,t){var n=[],a=e.col,o=e.row;o>0&&n.push(t[o-1][a]);o<t.length-1&&n.push(t[o+1][a]);a>0&&n.push(t[o][a-1]);a<t[0].length-1&&n.push(t[o][a+1]);return n.filter((function(e){return!e.isVisited}))}(e,t),o=Object(F.a)(a);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.distance=e.distance+1,i.previousNode=e}}catch(r){o.e(r)}finally{o.f()}}var I=function(e,t,n,a,o){for(var i=[],r=0;r<e.length;r++){for(var s=[],l=0;l<e[0].length;l++){var c="wall"===e[r][l];s.push(L(c,l,r,t,n,a,o))}i.push(s)}return i},L=function(e,t,n,a,o,i,r){return{col:t,row:n,isStart:n===a&&t===o,isFinish:n===i&&t===r,distance:1/0,isVisited:!1,isWall:e,previousNode:null}};function W(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t}var B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).initCanvas=function(){console.log("initing canvas"),p.a.setup(e.canvas),e.grid=e.getInitialGrid(),e.createInitialCanvasNodes(),e.trySetUpInitStartAndFinish(),e.tryInitStartAndFinish()},e.createInitialCanvasNodes=function(){for(var t=e.state.nodeSize,n=e.gridLineWidth,a=Math.ceil(e.canvas.height/t),o=Math.ceil(e.canvas.width/t),i=new f.Group,r=0;r<a;r++)for(var s=0;s<o;s++){var l=new f.Shape.Rectangle({fillColor:"white",center:[s*t+t/2,r*t+t/2],size:t-n,name:"".concat(r,"-").concat(s)});if(i.addChild(l),0===r||0===s){var c=new f.PointText(new f.Point(s*t+t/2,r*t+t/2));c.justification="center",c.fillColor="grey",c.content=0===r?s:r,i.addChild(c)}}e.canvasNodeGroup=i},e.getInitialGrid=function(){for(var t=e.state.nodeSize,n=Math.ceil(e.canvas.height/t),a=Math.ceil(e.canvas.width/t),o=[],i=0;i<n;i++){for(var r=[],s=0;s<a;s++)r.push("empty");o.push(r)}return o},e.onMouseDown=function(t){var n=t.point.x,a=t.point.y,o=e.state.nodeSize,i=Math.floor(a/o),r=Math.floor(n/o);"start"===e.grid[i][r]||"finish"===e.grid[i][r]?(e.onMouseDownNodeType=e.grid[i][r],e.specialNodesProps.onDragSpecial=!0):(e.onMouseDownNodeType="",e.specialNodesProps.onDragSpecial=!1),e.isCoorsChange(i,r)&&(e.mouseDownOnce=!0),"wall"===e.brush.type&&"wall"===e.grid[i][r]?e.onEraseMode=!0:e.onEraseMode=!1,e.onMouseDrag(t)},e.onMouseDrag=function(t){var n=t.point.x,a=t.point.y,o=e.canvas.width,i=e.canvas.height,r=e.state.nodeSize,s=Math.floor(a/r),l=Math.floor(n/r),c=e.brush,d=!0;if(!(n>o||n<0||a>i||a<0)&&e.grid[s][l]&&"start"!==e.grid[s][l]&&"finish"!==e.grid[s][l]){var h=e.specialNodesProps;switch(c.type){case"start":h.hasStart?d=!1:(h.hasStart=!0,h.startRow=s,h.startCol=l);break;case"finish":h.hasFinish?d=!1:(h.hasFinish=!0,h.finishRow=s,h.finishCol=l)}if("start"!==e.onMouseDownNodeType&&"finish"!==e.onMouseDownNodeType||(h.onDragSpecial=!0),e.specialNodesProps.onDragSpecial){if(d=!1,"start"===e.onMouseDownNodeType)e.canvasNodeGroup.children["".concat(h.startRow,"-").concat(h.startCol)].fillColor=c.brushDict.empty,h.startRow===s&&h.startCol===l||(e.grid[h.startRow][h.startCol]="empty",e.grid[s][l]="start",h.startRow=s,h.startCol=l,e.state.isRenderingAlgo&&e.printDijkstra());else if("finish"===e.onMouseDownNodeType){e.canvasNodeGroup.children["".concat(h.finishRow,"-").concat(h.finishCol)].fillColor=c.brushDict.empty,h.finishRow===s&&h.finishCol===l||(e.grid[h.finishRow][h.finishCol]="empty",e.grid[s][l]="finish",h.finishRow=s,h.finishCol=l,e.state.isRenderingAlgo&&e.printDijkstra())}e.canvasNodeGroup.children["".concat(s,"-").concat(l)].fillColor=c.brushDict[e.onMouseDownNodeType]}if(d)if("start"!==c.type&&"start"===e.grid[s][l]?(h.startRow=-1,h.startCol=-1,h.hasStart=!1):"finish"!==c.type&&"finish"===e.grid[s][l]&&(h.finishRow=-1,h.finishCol=-1,h.hasFinish=!1),e.onEraseMode){e.grid[s][l]="empty";var u=e.canvasNodeGroup.children["".concat(s,"-").concat(l)];u.fillColor=c.brushDict.empty,e.animateNode(u)}else{e.grid[s][l]=c.type;var f=e.canvasNodeGroup.children["".concat(s,"-").concat(l)];f.fillColor=c.color,e.animateNode(f)}(e.isCoorsChange(s,l)||e.mouseDownOnce)&&(e.mouseDownOnce=!1,e.state.isRenderingAlgo&&e.printDijkstra())}},e.trySetUpInitStartAndFinish=function(){var t=e.canvas.width,n=e.canvas.height;if(t>400&&n>400){var a=e.getNodeIndexAtPosition(t,n);e.specialNodesProps={startRow:Math.floor(a[0]/2),startCol:Math.floor(a[1]/3),finishRow:Math.floor(a[0]/2),finishCol:Math.floor(2*a[1]/3),hasStart:!0,hasFinish:!0},e.grid[e.specialNodesProps.startRow][e.specialNodesProps.startCol]="start",e.grid[e.specialNodesProps.finishRow][e.specialNodesProps.finishCol]="finish"}else e.specialNodesProps={startRow:-1,startCol:-1,finishRow:-1,finishCol:-1,hasStart:!1,hasFinish:!1,lastRow:-1,lastCol:-1}},e.getNodeIndexAtPosition=function(t,n){var a=e.canvas.width,o=e.canvas.height,i=e.state.nodeSize;return[Math.floor(o/i),Math.floor(a/i)]},e.tryInitStartAndFinish=function(){var t=e.specialNodesProps.hasStart,n=e.specialNodesProps.hasFinish,a=e.specialNodesProps.startRow,o=e.specialNodesProps.startCol,i=e.specialNodesProps.finishRow,r=e.specialNodesProps.finishCol;t&&(e.canvasNodeGroup.children["".concat(a,"-").concat(o)].fillColor=e.brush.brushDict.start,e.grid[a][o]="start");n&&(e.canvasNodeGroup.children["".concat(i,"-").concat(r)].fillColor=e.brush.brushDict.finish,e.grid[i][r]="finish")},e.isCoorsChange=function(t,n){var a=e.specialNodesProps;return(a.lastRow!==t||a.lastCol!==n)&&(a.lastRow=t,a.lastCol=n,!0)},e.animateNode=function(t){var n=t.fillColor;t.fillColor="yellow",t.tween({size:e.state.nodeSize+5,fillColor:"#fffc4f"},{easing:"easeInOutCubic",duration:200}).then((function(){t.tweenTo({size:e.state.nodeSize-e.gridLineWidth,fillColor:n},300)}))},e.initCanvasGridSize=function(){for(var t=e.state.nodeSize,n=e.gridLineWidth,a=Math.ceil(e.canvas.height/t),o=Math.ceil(e.canvas.width/t),i=0;i<a;i++)for(var r=0;r<o;r++){if(e.canvasNodeGroup.children["".concat(i,"-").concat(r)])e.canvasNodeGroup.children["".concat(i,"-").concat(r)].size=t-n}},e.setBrush=function(t){["empty","wall","start","finish"].includes(t)&&e.brush.setType(t)},e.printDijkstra=function(){var t=e.specialNodesProps;if(t.hasStart&&t.hasFinish){for(var n=z(e.grid,t.startRow,t.startCol,t.finishRow,t.finishCol),a=n[0],o=n[1],i=0;i<e.grid.length;i++)for(var r=0;r<e.grid[0].length;r++){e.canvasNodeGroup.children["".concat(i,"-").concat(r)].fillColor=e.brush.brushDict[e.grid[i][r]]}null!==a?a.forEach((function(n){var a=e.canvasNodeGroup.children["".concat(n.row,"-").concat(n.col)];n.row===t.startRow&&n.col===t.startCol||n.row===t.finishRow&&n.col===t.finishCol||(a.fillColor=e.visitedNodeColor)})):console.log("visitedNodesInOrder is null"),null!==o?o.forEach((function(n){var a=e.canvasNodeGroup.children["".concat(n.row,"-").concat(n.col)];n.row===t.startRow&&n.col===t.startCol||n.row===t.finishRow&&n.col===t.finishCol||(a.fillColor=e.shortestPathColor)})):console.log("nodesInShortestPathOrder is null")}else console.log("missing start or finish node")},e.switchRenderingAlgo=function(){var t=e.state.isRenderingAlgo;if(e.setState({isRenderingAlgo:!t}),t)for(var n=0;n<e.grid.length;n++)for(var a=0;a<e.grid[0].length;a++){e.canvasNodeGroup.children["".concat(n,"-").concat(a)].fillColor=e.brush.brushDict[e.grid[n][a]]}else e.printDijkstra()},e.switchGridLineVisibility=function(){0===e.gridLineWidth?e.gridLineWidth=1:1===e.gridLineWidth?e.gridLineWidth=0:e.gridLineWidth=1,e.initCanvasGridSize()},e.handleClose=function(){e.setState({showTips:!1})},e.handleClickOpen=function(){e.setState({showTips:!0})},e.state={nodeSize:40,isRenderingAlgo:!1,showTips:!1},e.brush={type:"wall",color:"black",brushDict:{empty:"white",wall:"black",start:"#20e82a",finish:"red"},setType:function(e){this.type=e,this.color=this.brushDict[e],console.log(this.color)}},e.grid=[],e.gridRows=20,e.gridCols=40,e.backgroundColor="white",e.visitedNodeColor="#3A8FB7",e.shortestPathColor="#d6ff75",e.gridLineColor="#777777",e.gridLineWidth=1,e.canvasNodeGroup=void 0,e.onMouseDownNodeType="",e.mouseDownOnce=!1,e.onEraseMode=!1,e.specialNodesProps={startRow:-1,startCol:-1,finishRow:-1,finishCol:-1,hasStart:!1,hasFinish:!1,onDragSpecial:!1},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.setup(this.canvas),p.a.tools.forEach((function(e){return e.remove()}));var t=new f.Tool;t.onMouseDrag=function(t){e.onMouseDrag(t)},t.onMouseDown=function(t){e.onMouseDown(t)},p.a.view.onResize=function(){e.initCanvas()},this.initCanvas()}},{key:"test1",value:function(){console.log("test1:"),console.log(this.state.isRenderingAlgo),console.log(this.specialNodesProps)}},{key:"test2",value:function(){console.log("test2:")}},{key:"render",value:function(){var e=this;return o.a.createElement(v,{styleMap:u},(function(t){var n=t(e.props);return o.a.createElement("div",{className:n.main},o.a.createElement("div",{className:n.top_navigation_bar,id:"top_navigation_bar"},o.a.createElement(m.a,{position:"static"},o.a.createElement(w.a,null,o.a.createElement(R.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(D.a,null)),o.a.createElement(C.a,{variant:"h6",className:n.title},"Interactive Visualized Pathfinder")))),o.a.createElement("div",{className:n.left_tool_box},o.a.createElement(y.a,{component:"nav","aria-label":"secondary mailbox folders"},o.a.createElement(N.a,null,o.a.createElement(M.a,{control:o.a.createElement(S.a,{checked:e.state.isRenderingAlgo,onChange:e.switchRenderingAlgo,name:"switchRenderingAlgo",color:"primary"}),label:"Auto-Render"})),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.switchGridLineVisibility()}},"Grid")),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.setBrush("start")}},"start")),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.setBrush("finish")}},"finish")),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.setBrush("wall")}},"wall")),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.initCanvas()}},"reset")),o.a.createElement(E.a,null),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.test1()}},"Props")),o.a.createElement(N.a,null,o.a.createElement("div",null,o.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:e.handleClickOpen},"Show Guides"),o.a.createElement(x.a,{open:e.state.showTips,TransitionComponent:V,keepMounted:!0,onClose:e.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(A.a,{id:"alert-dialog-slide-title"},"Use Google's location service?"),o.a.createElement(G.a,null,o.a.createElement(T.a,{id:"alert-dialog-slide-description"},"Let Google help apps determine location. This means sending anonymous location data to Google, even when no apps are running.")),o.a.createElement(P.a,null,o.a.createElement(b.a,{onClick:e.handleClose,color:"primary"},"Disagree"),o.a.createElement(b.a,{onClick:e.handleClose,color:"primary"},"Agree"))))),o.a.createElement(N.a,null,o.a.createElement(b.a,{variant:"outlined",onClick:function(){return e.test2()}},"TEST2")))),o.a.createElement("div",{className:n.main_canvas},o.a.createElement("canvas",{resize:"true",style:{width:"100%",height:"100%",backgroundColor:e.gridLineColor},ref:function(t){e.canvas=t}})))}))}}]),n}(a.Component),V=o.a.forwardRef((function(e,t){return o.a.createElement(O.a,Object.assign({direction:"up",ref:t},e))})),U=function(){return o.a.createElement("div",null,o.a.createElement(B,null))},J=function(){return o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/visual-pathfind"},o.a.createElement(U,null)),o.a.createElement(s.b,{path:"/"},o.a.createElement(s.a,{to:"/visual-pathfind"})))},$=n(47);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement($.a,null,o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[76,1,2]]]);
//# sourceMappingURL=main.51a3b2fb.chunk.js.map